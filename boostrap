a=load('cop_density.txt'); %loading the copepod density data into %workplace
c=ceil(rand(34,1000)*34);%producing uniform random numbers from 0 %to 34 in 34 x 1000 matrix

for i=1:100 %build a loop to change zeros in the c matrix into another %random numbers. This ‘finding zeros and change’ action %repeats for 100 time, so we can be sure that there’s no zero %in the matrix c 
f=find(c==0);% f contains the positions which are zeros in matrix c
c(f)=ceil(rand(size(f))*34);%change those positions into another random %numbers
end

k=a(c);%k is a 34 x 1000 matrix which contains the numbers randomly %chose from the copepod density matrix
mean(a)%calculate the mean of copepod density
se_density=std(a)/(length(a)^0.5)%calculate the standard error of %copepod density
mean(mean(k)) %calculate the mean of copepod density built by %bootstrap with 1000 times 
hist(mean(k),100)%draw the means built with bootstrap into histogram
se_boodensity=std(mean(k))/(length(mean(k))^0.5) %calculate the %standard error of means 
mean(b) %calculate the mean of fish density
se_b=std(b)/(length(b)^0.5) )%calculate the standard error of 
%fish density
g=b(c); %k is a 34 x 1000 matrix which contains the numbers randomly %chose from the fish density matrix
mean(mean(g)) %calculate the mean of fish density built by bootstrap %with 1000 times
hist(mean(g),100) %draw the means built with bootstrap into histogram
se_boofish=std(mean(g))/(length(mean(g))^0.5) %calculate the %standard error of means 

2.
median(a) %calculate the median of copepod density
semedian_density=std(median(k))/(length(median(k))^0.5)
%calculate the standard error of medians 
hist(median(k),100) %draw the medians built with bootstrap into %histogram
mean(median(k)) %calculate the mean of medians of copepod %density built by bootstrap with 1000 times

median(b) %calculate the median of fish density
semedian_fish=std(median(g))/(length(median(g))^0.5)
%calculate the standard error of medians
hist(median(g),100) %draw the medians built with bootstrap into %histogram

mean(median(g)) %calculate the mean of medians of fish 
%density built by bootstrap with 1000 times
3.
p=[ones(34,1) a(:,1)]\b(:,1);%calculate the regression coefficients of fish %density v.s. copepod density

for i=1:1000
re(i)=regress(g(:,i),k(:,i));%calculate the β1 built by bootstrap with 1000 %times and put them into the ‘re’ matrix
end

se_regdensity=std(re)/(1000^0.5) %calculate the standard error of β1
polytool(a,b) % plot the figure and the regression line of fish density v.s. % copepod density
hist (re,100)  % draw the β1 built with bootstrap into histogram

for i=1:1000
b0(i)=mean(g(:,i))-re(i)*mean(k(:,i)); 
%because β0 = mean(y)-mean(x) xβ1, calculate the β0 and %put them into the ‘b0’ matrix
end

se_b0=std(b0)/(1000^0.5) %calculate the standard error of β0
hist (b0,100) 
